<div id="{{$ctrl.spec.id}}">
  <div ng-if="!$ctrl.spec.showEditButtons">
    <div ng-mouseenter="$ctrl.spec.userMouseover=true"
        ng-mouseleave="$ctrl.spec.userMouseover=false"
        style="display: inline-block">
        
        <div ng-style="{'visibility': $ctrl.spec.userMouseover?'visible':'hidden'}" style="display:inline-block">
          <div style="display:inline-block">
            <a ui-tree-handle
              class='btn-flat btn-square'>
              <i class="material-icons">drag_handle</i>
            </a>
          
            <a ng-click="$ctrl.toggleEditButtons($ctrl.spec)" 
              class='btn-flat btn-square'>
              <i class='material-icons tiny-icon'>mode_edit</i>
            </a>
            
            <a ng-click="$ctrl.setBreadCrumbs($ctrl.spec)" 
              class='btn-flat btn-square'>
              <i class='material-icons tiny-icon'>fullscreen</i>
            </a>
          </div>
        </div>
    </div>
    <div style="display:inline-block">
          {{::$ctrl.spec.description}}
          <tickets tickets="$ctrl.ticket" spec="$ctrl.spec"></tickets>
          <tags tags="$ctrl.tag" spec="$ctrl.spec"></tags>
    </div>
    </div>
        <div ng-if="$ctrl.spec.showEditButtons"
            class="spec-card">
            <md-card>
                <md-toolbar class="md-accent md-hue-1">
                  <div class="md-toolbar-tools">
                      <md-input-container style="width: 100%">
                      <input 
                        ng-model="$ctrl.spec.description" 
                        aria-label="description"
                        style="margin-top:20px" />
                    </md-input-container>
                    <span flex></span>
                    <md-button 
                      class="md-icon-button" 
                      aria-label="done"
                      ng-click="$ctrl.toggleEditButtons($ctrl.spec)">
                      <md-icon class="material-icons">done</md-icon>
                    </md-button>
                  </div>
                </md-toolbar>
              <md-card-title>
                <md-card-title-text>
                    
                </md-card-title-text>
              </md-card-title>
              <md-card-content>
                <tickets tickets="$ctrl.ticket" spec="$ctrl.spec"></tickets>
                <tags tags="$ctrl.tag" spec="$ctrl.spec"></tags>
              </md-card-content>
              <md-card-actions layout="row" layout-align="left center">
                <md-button aria-label="add parent">
                  + parent
                </md-button>
                <md-button aria-label="children">
                  + children
                </md-button>
                <md-button class="md-icon-button" aria-label="delete">
                  <i class="material-icons">delete</i>
                </md-button>
              </md-card-actions>
          </md-card>
    </div>
    
    <ol ui-tree-nodes="" ng-model="$ctrl.spec.children">
        <li ng-repeat="child in $ctrl.spec.children" ui-tree-node>
            <spec 
                spec='::child' 
                ui-tree-callbacks="::$callbacks"
                tag="::$ctrl.parent.getTags(child)"
                ticket="::$ctrl.parent.getTickets(child)"></spec>
        </li>
    </ol>
</div>