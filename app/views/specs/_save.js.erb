$("ul.errors").html("");
<% if @spec.errors.any? %>
  <% @spec.errors.full_messages.each do |message| %>
    $("ul.errors").append($("<li />").html("<%= message.html_safe %>"));
  <% end %>
<% else %>
  $("#spec-modal").modal("hide");
  $(".full-spec-list").html("<%= j(render partial: "container", collection: Spec.get_top_level, as: :spec) %>");
  document.getElementById("<%=@spec.id%>").scrollIntoView();
<% end %>