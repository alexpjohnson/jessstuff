$("ul.errors").html("");
<% if @spec.errors.any? %>
  <% @spec.errors.full_messages.each do |message| %>
    $("ul.errors").append($("<li />").html("<%= message.html_safe %>"));
  <% end %>
<% else %>
  $("#spec-modal").modal("hide");
  $('#<%=@spec.id %> .spec-data').html("<%= j(render partial: "data", object: @spec, as: :spec ) %>");
<% end %>